= Amazon Web Services Lambda Functions with Couchbase

. Source code: `hello-couchbase`
. Deployment package: `mvn -f hello-couchbase/pom.xml package`
. Create a function:
+
```
aws lambda create-function \
--function-name HelloCouchbase \
--role arn:aws:iam::598307997273:role/service-role/myLambdaRole \
--handler org.sample.serverless.aws.couchbase.HelloCouchbase \
--zip-file fileb:///Users/arungupta/workspaces/serverless/aws/hello-couchbase/hello-couchbase/target/hello-couchbase-1.0-SNAPSHOT.jar \
--description "Hello Serverless Couchbase" \
--runtime java8  \
--timeout 30 \
--memory-size 1024 \
--environment Variables={COUCHBASE_HOST=ec2-35-165-249-235.us-west-2.compute.amazonaws.com} \
--publish

```
+
Shows output:
+
```

```
+
. Test the function:
+
```
aws lambda invoke \
--function-name HelloCouchbase \
#--region us-west-1 \
hello-couchbase.out
```
+
Shows result:
+
```
{
    "StatusCode": 200
}
```
+
Output from the command is in `hello-couchbase.out`.
+
. Update the function:
+
```
aws lambda update-function-code \
  --function-name HelloCouchbase \
  --zip-file fileb:///Users/arungupta/workspaces/serverless/aws/hello-couchbase/hello-couchbase/target/hello-couchbase-1.0-SNAPSHOT.jar \
#  --region us-west-1 \
  --publish
```

